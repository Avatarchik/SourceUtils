#include "Base.frag.txt"

varying vec3 vColor;

uniform float uAlphaTest;
uniform float uAlpha;
uniform float uTranslucent;

void main()
{
    vec4 texSample = texture2D(uBaseTexture, vTextureCoord);
    if (texSample.a < uAlphaTest - 0.5) discard;

    vec3 color = applyFog(texSample.rgb * vColor);

    gl_FragColor = vec4(color, max((1.0 - uTranslucent), texSample.a) * uAlpha);
}
