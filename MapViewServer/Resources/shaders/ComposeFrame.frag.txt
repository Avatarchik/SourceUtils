precision mediump float;

varying vec2 vScreenPos;

uniform sampler2D uOpaqueFrame;
uniform sampler2D uTranslucentFrame;

void main()
{
    vec4 opaqueSample = texture2D(uOpaqueFrame, vScreenPos);
    vec4 translucentSample = texture2D(uTranslucentFrame, vScreenPos);

    gl_FragColor = vec4(mix(opaqueSample.rgb, translucentSample.rgb, translucentSample.a), max(opaqueSample.a, translucentSample.a));
}
